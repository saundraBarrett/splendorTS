(this["webpackJsonpsplendor-ts"]=this["webpackJsonpsplendor-ts"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var o,i=n(1),r=n.n(i),c=n(32),a=n.n(c),s=(n(42),n(9)),g=n(28),d=n(5);n(43);!function(e){e.Original="Original",e.Marvel="Marvel"}(o||(o={}));var m=Object(i.createContext)({theme:o.Original,setTheme:function(e){return console.warn("no theme provider")}}),l=n(14),u=n(57),y=n(6),b=n.n(y),v="EMERALD",q="SAPPHIRE",P="RUBY",f="DIAMOND",p="ONYX",j=[{id:0,gem:P},{id:1,gem:p},{id:2,gem:q},{id:3,gem:v},{id:4,gem:f},{id:5,gem:"GOLD"}];function k(e){return j.map((function(t){return{gem:t.gem,qty:e?O(t.gem):0}}))}function O(e){return"GOLD"===e?4:6}function h(e,t){return e.reduce((function(e,n){return n===t?e+1:e}),0)}var x=n(24),A=(n(45),n(47),{apiKey:"AIzaSyB4JHPtQEM-7eKjGqjI_ox7p_x2alNZfgg",authDomain:"".concat("splendor-37935",".firebaseapp.com"),databaseURL:"https://".concat("splendor-37935","-default-rtdb.firebaseio.com"),projectId:"splendor-37935"});x.a.apps.length||x.a.initializeApp(A);var w,B,C,D,R,S,E,I,Y,L,N,T,M,G=n(2),z=x.a.database(),U=function(){var e=Object(d.f)(),t=Object(i.useState)(null),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(i.useState)(Object(u.a)()),a=Object(s.a)(c,1)[0],g=Object(i.useState)("Player"),m=Object(s.a)(g,2),y=m[0],b=m[1],v=Object(i.useState)(k()),q=Object(s.a)(v,1)[0],P=Object(i.useState)({name:y,tokens:q,cards:[2],victoryPoints:0,uuid:a}),f=Object(s.a)(P,1)[0],p=Object(d.g)().id;Object(i.useEffect)((function(){z.ref("games/".concat(p)).on("value",(function(e){r(e.val())})),localStorage.setItem("".concat(p),a)}),[p,a]);return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(){var e,t=Object(l.a)({},o),n=f;n.name=y,null===t||void 0===t||null===(e=t.players)||void 0===e||e.push(n);var i=t.players;t.players=i,z.ref("games/".concat(p)).set(t)}(),e.push({pathname:"/game/".concat(p,"/play")})},children:[Object(G.jsx)("input",{name:"player",value:y,onChange:function(e){return b(e.target.value)}}),Object(G.jsx)("button",{type:"submit",children:"Lets Play"})]})})},H=n(25),K=n(7),X=n(8),_=(n(55),X.a.div(w||(w=Object(K.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    -webkit-text-stroke: 1px black;\n    font-size: 3em;\n    background-image: var(--TOKEN-BACKGROUND);\n      cursor: pointer;\n      width: 65px;\n      height: 65px;\n      border-radius: 50%;  \n      text-align: center;\n      box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.5), 0 0 3px 0 rgba(0, 0, 0, 0.4) inset;\n      border: solid 10px black;\n      border-width: 10px;\n      border-style: solid;\n      margin-bottom: .25em;\n      pointer-events: ",";\n      border-color: ",";\n    "])),(function(e){return e.disabled?"none":"auto"}),(function(e){switch(e.gem){case P:return"rgba(var(--RUBY), 1);";case p:return"rgba(var(--ONYX), 1);";case q:return"rgba(var(--SAPPHIRE), 1);";case v:return"rgba(var(--EMERALD), 1);";case f:return"rgba(var(--DIAMOND), 1);";default:return"transparent"}}))),F=function(e){return console.log(e),Object(G.jsx)(_,{gem:e.token.gem,disabled:e.disabled,onClick:function(){return e.onClick(e.token.gem)},children:e.token.qty})},J=X.a.div(B||(B=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),Q=function(e){var t=Object(i.useState)([]),n=Object(s.a)(t,2),o=n[0],r=n[1],c=e.disabled,a=e.updateTokenCount,g=function(t){a(t);var n,i=[].concat(Object(H.a)(o),[t]);r(i),(2===o.length||1===o.length&&(n=i,b.a.uniq(n).length!==n.length))&&(e.saveTokens(i),r([]))},d=function(t,n){return t.qty<=0||(!!(o.includes(n)&&e.tokenBank[n].qty<2)||!(2!==o.length||!o.includes(n)))};return Object(G.jsx)(J,{children:e.tokenBank.map((function(e,t){return Object(G.jsx)(F,{token:e,disabled:d(e,t)||c,onClick:function(){g(t)}},"".concat(t))}))})},Z=X.a.div(C||(C=Object(K.a)(["\n  margin: 1em 0;\n  background: rgba(0, 0, 0, 0.3);\n  -webkit-border-top-right-radius: 15px;\n  -webkit-border-bottom-right-radius: 15px;\n  -moz-border-radius-topright: 15px;\n  -moz-border-radius-bottomright: 15px;\n  border-top-right-radius: 15px;\n  border-bottom-right-radius: 15px;\n"]))),V=X.a.div(D||(D=Object(K.a)(["\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-template-rows: 1fr;\n  grid-column-gap: 7px;\n  grid-row-gap: 10px;\n  padding: 0.5em;\n"]))),W=X.a.div(R||(R=Object(K.a)(["\n  border: solid 1px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n  height: 45px;\n  position: relative;\n  background: ",";\n"])),(function(e){switch(e.gem){case P:return"rgba(var(--RUBY), var(--PLAYER-BOARD-CARD-OPACITY));";case p:return"rgba(var(--ONYX), var(--PLAYER-BOARD-CARD-OPACITY));";case v:return"rgba(var(--EMERALD), var(--PLAYER-BOARD-CARD-OPACITY));";case q:return"rgba(var(--SAPPHIRE), var(--PLAYER-BOARD-CARD-OPACITY));";case f:return"rgba(var(--DIAMOND), var(--PLAYER-BOARD-CARD-OPACITY));";default:return"transparent"}})),$=X.a.div(S||(S=Object(K.a)(["\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  transform: translateX(-50%);\n  left: 50%;\n  bottom: -12px;\n  border-radius: 50%;\n  text-align: center;\n  border-width: 3px;\n  border-style: solid;\n  background: rgb(243, 208, 160);\n  background-image: var(--TOKEN-BACKGROUND);\n  font-weight: bold;\n  border-color: ",";\n"])),(function(e){switch(e.gem){case P:return"rgba(var(--RUBY), 1);";case p:return"rgba(var(--ONYX), 1);";case q:return"rgba(var(--SAPPHIRE), 1);";case v:return"rgba(var(--EMERALD), 1);";case f:return"rgba(var(--DIAMOND), 1);";default:return"transparent"}})),ee=function(e){var t=function(t){var n=b.a.find(e.tokens,(function(e){return e.gem===t.gem}));return n?n.qty:0},n=function(t){return h(e.cards,t.gem)};return Object(G.jsxs)(Z,{children:[Object(G.jsx)("h3",{children:e.name}),Object(G.jsx)(V,{children:j.map((function(o,i){return Object(G.jsxs)(W,{gem:o.gem,children:[Object(G.jsx)($,{gem:o.gem,children:t(o)}),Object(G.jsx)("div",{style:{fontSize:"1.5em",textAlign:"center"},children:e.cards&&n(o)})]},"token_".concat(i,"_").concat(e.uuid))}))})]})},te=X.a.div(E||(E=Object(K.a)(["\n  display: flex;\n flex-direction:column;\n"]))),ne=function(e){return Object(G.jsx)(te,{children:b.a.map(e,(function(e,t){return Object(i.createElement)(ee,Object(l.a)(Object(l.a)({},e),{},{key:t}))}))})},oe="0% 20%",ie="50% 20%",re="25% 20%",ce="75% 20%",ae="100% 20%",se="0 40%",ge="25% 40%",de="50% 40%",me="75% 40%",le="100% 40%",ue="0% 60%",ye="50% 60%",be="25% 60%",ve="75% 60%",qe="100% 60%",Pe="0% 0%",fe="50% 0%",pe="25% 0%",je="75% 0%",ke="100% 0%",Oe="0% 80%",he="25% 80%",xe="50% 80%",Ae="75% 80%",we="100% 80%",Be=[{id:1,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:f,qty:1},{gem:q,qty:1},{gem:v,qty:1},{gem:P,qty:1}]},{id:2,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:f,qty:1},{gem:q,qty:2},{gem:v,qty:1},{gem:P,qty:1}]},{id:3,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:f,qty:2},{gem:q,qty:2},{gem:P,qty:1}]},{id:4,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:v,qty:1},{gem:p,qty:1},{gem:P,qty:3}]},{id:5,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:v,qty:2},{gem:P,qty:1}]},{id:6,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:f,qty:2},{gem:v,qty:2}]},{id:7,level:1,victoryPoints:0,gem:p,backgroundPosition:oe,cost:[{gem:v,qty:3}]},{id:8,level:1,victoryPoints:1,gem:p,backgroundPosition:oe,cost:[{gem:q,qty:4}]},{id:9,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:f,qty:1},{gem:v,qty:1},{gem:P,qty:1},{gem:p,qty:1}]},{id:10,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:f,qty:1},{gem:v,qty:1},{gem:P,qty:2},{gem:p,qty:1}]},{id:11,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:f,qty:1},{gem:v,qty:2},{gem:P,qty:2}]},{id:12,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:q,qty:1},{gem:v,qty:3},{gem:P,qty:1}]},{id:13,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:f,qty:1},{gem:p,qty:2}]},{id:14,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:v,qty:2},{gem:p,qty:2}]},{id:15,level:1,victoryPoints:0,gem:q,backgroundPosition:Pe,cost:[{gem:p,qty:3}]},{id:16,level:1,victoryPoints:1,gem:q,backgroundPosition:Pe,cost:[{gem:P,qty:4}]},{id:17,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:q,qty:1},{gem:v,qty:1},{gem:P,qty:1},{gem:p,qty:1}]},{id:18,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:q,qty:1},{gem:v,qty:2},{gem:P,qty:1},{gem:p,qty:1}]},{id:19,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:q,qty:2},{gem:v,qty:2},{gem:p,qty:1}]},{id:20,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:f,qty:3},{gem:q,qty:1},{gem:p,qty:1}]},{id:21,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:P,qty:2},{gem:p,qty:1}]},{id:22,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:q,qty:2},{gem:p,qty:2}]},{id:23,level:1,victoryPoints:0,gem:f,backgroundPosition:Oe,cost:[{gem:q,qty:3}]},{id:24,level:1,victoryPoints:1,gem:f,backgroundPosition:Oe,cost:[{gem:v,qty:4}]},{id:25,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:f,qty:1},{gem:q,qty:1},{gem:P,qty:1},{gem:p,qty:1}]},{id:26,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:f,qty:1},{gem:q,qty:1},{gem:P,qty:1},{gem:p,qty:2}]},{id:27,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:q,qty:1},{gem:P,qty:2},{gem:p,qty:2}]},{id:28,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:f,qty:1},{gem:q,qty:3},{gem:v,qty:1}]},{id:29,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:f,qty:2},{gem:q,qty:1}]},{id:30,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:P,qty:2},{gem:q,qty:2}]},{id:31,level:1,victoryPoints:0,gem:v,backgroundPosition:ue,cost:[{gem:P,qty:3}]},{id:32,level:1,victoryPoints:1,gem:v,backgroundPosition:ue,cost:[{gem:p,qty:4}]},{id:33,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:1},{gem:q,qty:1},{gem:v,qty:1},{gem:p,qty:1}]},{id:34,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:2},{gem:q,qty:1},{gem:v,qty:1},{gem:p,qty:1}]},{id:35,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:2},{gem:v,qty:1},{gem:p,qty:2}]},{id:36,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:1},{gem:P,qty:1},{gem:p,qty:3}]},{id:37,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:q,qty:2},{gem:v,qty:1}]},{id:38,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:2},{gem:P,qty:2}]},{id:39,level:1,victoryPoints:0,gem:P,backgroundPosition:se,cost:[{gem:f,qty:3}]},{id:40,level:1,victoryPoints:1,gem:P,backgroundPosition:se,cost:[{gem:f,qty:4}]},{id:41,level:2,victoryPoints:1,gem:p,backgroundPosition:re,cost:[{gem:f,qty:3},{gem:q,qty:2},{gem:v,qty:2}]},{id:42,level:2,victoryPoints:1,gem:p,backgroundPosition:re,cost:[{gem:f,qty:3},{gem:v,qty:3},{gem:p,qty:2}]},{id:43,level:2,victoryPoints:2,gem:p,backgroundPosition:re,cost:[{gem:q,qty:1},{gem:v,qty:4},{gem:P,qty:2}]},{id:44,level:2,victoryPoints:2,gem:p,backgroundPosition:ie,cost:[{gem:v,qty:5},{gem:P,qty:3}]},{id:45,level:2,victoryPoints:2,gem:p,backgroundPosition:ie,cost:[{gem:f,qty:5}]},{id:46,level:2,victoryPoints:3,gem:p,backgroundPosition:ie,cost:[{gem:p,qty:6}]},{id:47,level:2,victoryPoints:1,gem:q,backgroundPosition:fe,cost:[{gem:q,qty:2},{gem:v,qty:2},{gem:P,qty:3}]},{id:48,level:2,victoryPoints:1,gem:q,backgroundPosition:fe,cost:[{gem:q,qty:2},{gem:v,qty:3},{gem:p,qty:3}]},{id:49,level:2,victoryPoints:2,gem:q,backgroundPosition:fe,cost:[{gem:q,qty:3},{gem:f,qty:5}]},{id:50,level:2,victoryPoints:2,gem:q,backgroundPosition:pe,cost:[{gem:f,qty:2},{gem:p,qty:4},{gem:P,qty:1}]},{id:51,level:2,victoryPoints:2,gem:q,backgroundPosition:pe,cost:[{gem:q,qty:5}]},{id:52,level:2,victoryPoints:3,gem:q,backgroundPosition:pe,cost:[{gem:q,qty:6}]},{id:53,level:2,victoryPoints:1,gem:f,backgroundPosition:he,cost:[{gem:v,qty:3},{gem:P,qty:2},{gem:p,qty:2}]},{id:54,level:2,victoryPoints:1,gem:f,backgroundPosition:he,cost:[{gem:f,qty:2},{gem:q,qty:3},{gem:P,qty:3}]},{id:55,level:2,victoryPoints:2,gem:f,backgroundPosition:he,cost:[{gem:v,qty:1},{gem:p,qty:2},{gem:P,qty:4}]},{id:56,level:2,victoryPoints:2,gem:f,backgroundPosition:xe,cost:[{gem:p,qty:3},{gem:P,qty:5}]},{id:57,level:2,victoryPoints:2,gem:f,backgroundPosition:xe,cost:[{gem:P,qty:5}]},{id:58,level:2,victoryPoints:3,gem:f,backgroundPosition:xe,cost:[{gem:f,qty:6}]},{id:59,level:2,victoryPoints:1,gem:v,backgroundPosition:ye,cost:[{gem:f,qty:3},{gem:v,qty:2},{gem:P,qty:3}]},{id:60,level:2,victoryPoints:1,gem:v,backgroundPosition:ye,cost:[{gem:f,qty:2},{gem:q,qty:3},{gem:p,qty:2}]},{id:61,level:2,victoryPoints:2,gem:v,backgroundPosition:ye,cost:[{gem:f,qty:4},{gem:q,qty:2},{gem:p,qty:1}]},{id:62,level:2,victoryPoints:2,gem:v,backgroundPosition:be,cost:[{gem:v,qty:3},{gem:q,qty:5}]},{id:63,level:2,victoryPoints:2,gem:v,backgroundPosition:be,cost:[{gem:v,qty:5}]},{id:64,level:2,victoryPoints:3,gem:v,backgroundPosition:be,cost:[{gem:v,qty:6}]},{id:65,level:2,victoryPoints:1,gem:P,backgroundPosition:ge,cost:[{gem:f,qty:2},{gem:P,qty:2},{gem:p,qty:3}]},{id:66,level:2,victoryPoints:1,gem:P,backgroundPosition:ge,cost:[{gem:q,qty:3},{gem:P,qty:2},{gem:p,qty:3}]},{id:67,level:2,victoryPoints:2,gem:P,backgroundPosition:ge,cost:[{gem:f,qty:1},{gem:q,qty:4},{gem:v,qty:2}]},{id:68,level:2,victoryPoints:2,gem:P,backgroundPosition:de,cost:[{gem:f,qty:3},{gem:p,qty:5}]},{id:69,level:2,victoryPoints:2,gem:P,backgroundPosition:de,cost:[{gem:p,qty:5}]},{id:70,level:2,victoryPoints:3,gem:P,backgroundPosition:de,cost:[{gem:P,qty:6}]},{id:71,level:3,victoryPoints:3,gem:p,backgroundPosition:ce,cost:[{gem:f,qty:3},{gem:q,qty:3},{gem:v,qty:5},{gem:P,qty:3}]},{id:72,level:3,victoryPoints:4,backgroundPosition:ce,gem:p,cost:[{gem:P,qty:7}]},{id:73,level:3,victoryPoints:4,backgroundPosition:ae,gem:p,cost:[{gem:v,qty:3},{gem:P,qty:6},{gem:p,qty:3}]},{id:74,level:3,victoryPoints:5,gem:p,backgroundPosition:ae,cost:[{gem:P,qty:7},{gem:p,qty:3}]},{id:75,level:3,victoryPoints:3,gem:q,backgroundPosition:je,cost:[{gem:f,qty:3},{gem:v,qty:3},{gem:P,qty:3},{gem:p,qty:5}]},{id:76,level:3,victoryPoints:4,gem:q,backgroundPosition:je,cost:[{gem:f,qty:7}]},{id:77,level:3,victoryPoints:4,gem:q,backgroundPosition:ke,cost:[{gem:f,qty:6},{gem:q,qty:3},{gem:p,qty:3}]},{id:78,level:3,victoryPoints:5,gem:q,backgroundPosition:ke,cost:[{gem:f,qty:7},{gem:q,qty:3}]},{id:79,level:3,victoryPoints:3,gem:f,backgroundPosition:Ae,cost:[{gem:v,qty:3},{gem:q,qty:3},{gem:P,qty:5},{gem:p,qty:3}]},{id:80,level:3,victoryPoints:4,gem:f,backgroundPosition:Ae,cost:[{gem:p,qty:7}]},{id:81,level:3,victoryPoints:4,gem:f,backgroundPosition:we,cost:[{gem:f,qty:3},{gem:P,qty:3},{gem:p,qty:6}]},{id:82,level:3,victoryPoints:5,gem:f,backgroundPosition:we,cost:[{gem:f,qty:3},{gem:p,qty:7}]},{id:83,level:3,victoryPoints:3,gem:v,backgroundPosition:ve,cost:[{gem:f,qty:5},{gem:p,qty:3},{gem:q,qty:3},{gem:P,qty:3}]},{id:84,level:3,victoryPoints:4,gem:v,backgroundPosition:ve,cost:[{gem:q,qty:7}]},{id:85,level:3,victoryPoints:4,gem:v,backgroundPosition:qe,cost:[{gem:f,qty:3},{gem:q,qty:6},{gem:v,qty:3}]},{id:86,level:3,victoryPoints:5,gem:v,backgroundPosition:qe,cost:[{gem:q,qty:7},{gem:v,qty:3}]},{id:87,level:3,victoryPoints:3,gem:P,backgroundPosition:me,cost:[{gem:f,qty:3},{gem:q,qty:5},{gem:v,qty:3},{gem:p,qty:3}]},{id:88,level:3,victoryPoints:4,gem:P,backgroundPosition:me,cost:[{gem:v,qty:7}]},{id:89,level:3,victoryPoints:4,gem:P,backgroundPosition:le,cost:[{gem:q,qty:3},{gem:v,qty:6},{gem:P,qty:3}]},{id:90,level:3,victoryPoints:5,gem:P,backgroundPosition:le,cost:[{gem:v,qty:7},{gem:P,qty:3}]}],Ce=n.p+"static/media/sapphire.5361b8d5.png",De=n.p+"static/media/emerald.84aea5eb.png",Re=n.p+"static/media/ruby.1ccb5125.png",Se=n.p+"static/media/diamond.f68b3adf.png",Ee=n.p+"static/media/onyx.1a6421b0.png",Ie=n.p+"static/media/gold.6237158e.png",Ye=X.a.img(I||(I=Object(K.a)(["\n  height: ",";\n"])),(function(e){return e.height?e.height:"100%"})),Le=function(e){var t=e.gem,n=e.height;switch(t){case"SAPPHIRE":return Object(G.jsx)(Ye,{src:Ce,height:n});case"EMERALD":return Object(G.jsx)(Ye,{src:De,height:n});case"RUBY":return Object(G.jsx)(Ye,{src:Re,height:n});case"DIAMOND":return Object(G.jsx)(Ye,{src:Se,height:n});case"ONYX":return Object(G.jsx)(Ye,{src:Ee,height:n});case"GOLD":return Object(G.jsx)(Ye,{src:Ie,height:n});default:return null}},Ne=n.p+"static/media/card-backgrounds.0a3466ba.png",Te=X.a.div(Y||(Y=Object(K.a)(["\n  border: solid 1px #ccc;\n  min-width: 100%;\n  max-width: 100%;\n  border-radius: 0.5em;\n  height: 18em;\n  display: flex;\n    flex-direction: column;\n  background-image: url(",");\n  background-position: ",";\n  border-color: green;\n  border-width: ",";\n  border-style: solid;\n  pointer-events: ",";\n"])),Ne,(function(e){return e.backgroundPosition?e.backgroundPosition:"0 0"}),(function(e){return e.canAfford?"5px":"0"}),(function(e){return e.disabled||!e.canAfford?"none":"auto"})),Me=X.a.div(L||(L=Object(K.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: 1fr;\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n  background: rgba(255, 255, 255, 0.7);\n  padding: 0.5em;\n  overflow: hidden;\n"]))),Ge=X.a.div(N||(N=Object(K.a)(["\n  display: flex;\n  justify-content: bottom;\n  flex-direction: column;\n  justify-content: flex-end;\n  flex-grow: 1;\n  padding: .25em;\n"]))),ze=function(e){var t=e.saveCard,n=e.card,o=e.canAfford,i=e.disabled;return Object(G.jsxs)(Te,{canAfford:o,disabled:i,onClick:function(){return t(n.id)},backgroundPosition:n.backgroundPosition,children:[Object(G.jsxs)(Me,{children:[Object(G.jsxs)("div",{style:{textShadow:" -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black",color:"white",fontSize:"3em",minHeight:"1em"},children:[" ",n.victoryPoints>0&&n.victoryPoints]}),Object(G.jsx)("div",{style:{textAlign:"right",height:"4em"},children:Object(G.jsx)(Le,{gem:n.gem})})]}),Object(G.jsx)(Ge,{children:n.cost.map((function(e){return Object(G.jsx)("div",{className:"".concat(e.gem),style:{borderRadius:"50%",height:"1.25em",width:"1.25em",textAlign:"center",fontSize:"2em",border:"solid 1px black"},children:e.qty})}))})]})},Ue=X.a.div(T||(T=Object(K.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: 2fr;\n  grid-column-gap: 15px;\n  grid-row-gap: 0px;\n  margin: 15px 0;\n"]))),He=function(e){var t=e.rowCards,n=e.saveCard,o=e.playerGems,i=e.disabled,r=e.playerCards,c=function(e){var t=[];return b.a.forEach(e.cost,(function(e){var n=b.a.find(o,(function(t){return t.gem===e.gem})),i=h(r||[],e.gem);console.log(i),(n.qty>=e.qty||i>=e.qty)&&t.push(!0)})),t.length===e.cost.length};return Object(G.jsx)(Ue,{children:b.a.map(t,(function(e,t){var o=b.a.find(Be,(function(t){return t.id===e}));if(o)return Object(G.jsx)(ze,{card:o,saveCard:n,canAfford:c(o),disabled:i},"card_".concat(e))}))})},Ke=function(e){var t=e.cardBank,n=e.saveCard,o=e.playerGems,i=e.disabled,r=e.playerCards;return Object(G.jsx)(G.Fragment,{children:t.map((function(e,t){return Object(G.jsx)(He,{rowCards:e.slice(0,4),saveCard:n,playerGems:o,playerCards:r,disabled:i},"card-row_".concat(t))}))})},Xe=x.a.database(),_e=X.a.div(M||(M=Object(K.a)(["\n  display: grid;\n  grid-template-columns: 2fr 6fr repeat(2, 1fr);\n  grid-template-rows: 1fr;\n  grid-column-gap: 10px;\n  grid-row-gap: 0px;\n"]))),Fe=function(){var e=Object(d.f)(),t=Object(i.useState)(null),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(d.g)().id,a=Object(i.useState)(localStorage.getItem(c)),g=Object(s.a)(a,1)[0];Object(i.useEffect)((function(){var e=Xe.ref("games/".concat(c));return e.on("value",(function(e){r(e.val())})),function(){e.off()}}),[c]),Object(i.useEffect)((function(){var e=Xe.ref("games/".concat(c));return e.on("value",(function(e){r(e.val())})),function(){e.off()}}),[c]);var m=function(e,t){return e+1===t.length?t[0].uuid:t[e+1].uuid},u=function(e){Xe.ref("games/".concat(c)).set(e)};return o?Object(G.jsxs)("main",{children:[Object(G.jsx)("h1",{children:o.turn===g&&"Your Turn"}),Object(G.jsxs)(_e,{children:[Object(G.jsx)("div",{children:Object(G.jsx)(ne,Object(l.a)({},o.players))}),Object(G.jsx)("div",{children:Object(G.jsx)(Ke,{cardBank:o.cardBank,saveCard:function(e){if(o){var t,n=Object(l.a)({},o),i=b.a.findIndex(n.players,(function(e){return e.uuid===n.turn})),r=b.a.find(Be,(function(t){return t.id===e}));if(r){var c;switch(r.level){case 1:c=2;break;case 2:c=1;break;case 3:c=0}if(void 0!==c){t=r.gem;var a=b.a.findIndex(n.cardBank[c],(function(t){return t===e}));n.cardBank.length>4?(n.cardBank[c][a]=n.cardBank[c][5],n.cardBank[c].splice(5,1)):n.cardBank[c].splice(a,1)}b.a.forEach(r.cost,(function(e){var t=b.a.findIndex(n.tokenBank,(function(t){return t.gem===e.gem})),o=b.a.findIndex(n.players[i].tokens,(function(t){return t.gem===e.gem}));if(n.players[i].cards){var r=h(n.players[i].cards,e.gem);r<e.qty&&(n.tokenBank[t].qty=n.tokenBank[t].qty+(e.qty-r),n.players[i].tokens[o].qty=n.players[i].tokens[o].qty-(e.qty-r))}else n.players[i].tokens[o].qty=n.players[i].tokens[o].qty-e.qty,n.tokenBank[t].qty=n.tokenBank[t].qty+e.qty}))}n.players[i].cards?n.players[i].cards=[].concat(Object(H.a)(n.players[i].cards),[t]):n.players[i].cards=[t],n.turn=m(i,n.players),u(n)}},playerGems:function(){if(o){var e=b.a.find(o.players,(function(e){return e.uuid===o.turn}));return null===e||void 0===e?void 0:e.tokens}}(),playerCards:function(){if(o){var e=b.a.find(o.players,(function(e){return e.uuid===o.turn}));return null===e||void 0===e?void 0:e.cards}}(),disabled:o.turn!==g})}),Object(G.jsxs)("div",{children:[" ",Object(G.jsx)(Q,{tokenBank:o.tokenBank,saveTokens:function(e){if(o){var t=Object(l.a)({},o),n=b.a.findIndex(t.players,(function(e){return e.uuid===t.turn}));b.a.forEach(e,(function(e){t.players[n].tokens[e].qty=t.players[n].tokens[e].qty+1})),t.turn=m(n,t.players),u(t)}},disabled:o.turn!==g,updateTokenCount:function(e){if(o){var t=Object(l.a)({},o);t.tokenBank[e].qty=t.tokenBank[e].qty-1,u(t)}}})]}),Object(G.jsx)("div",{children:" nobles"})]}),Object(G.jsx)("button",{onClick:function(){e.push({pathname:"/new"})},children:"Start New Game"})]}):Object(G.jsx)("div",{children:"Loading Game"})},Je=x.a.database(),Qe=function(){var e=Object(d.f)(),t=Object(i.useState)("Player1"),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(i.useState)(Object(u.a)()),a=Object(s.a)(c,1)[0],g=Object(i.useState)(k()),m=Object(s.a)(g,1)[0],l=Object(i.useState)(k(!0)),y=Object(s.a)(l,1)[0],v=b()(Be).filter((function(e){return 1===e.level})).map("id").shuffle().value();console.log(v);var q=b()(Be).filter((function(e){return 2===e.level})).map("id").shuffle().value(),P=b()(Be).filter((function(e){return 3===e.level})).map("id").shuffle().value(),f=Object(i.useState)({name:o,tokens:m,cards:null,victoryPoints:0,uuid:a}),p=Object(s.a)(f,1)[0];return Object(G.jsxs)("div",{children:[Object(G.jsx)("h1",{children:"Start New Game"}),Object(G.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(){var t=p;t.name=o,t.uuid=a;var n=Je.ref("games").push();n.set({players:[t],turn:a,first:0,cardBank:[P,q,v],tokenBank:y}),localStorage.setItem("".concat(n.key),a),e.push({pathname:"/game/".concat(n.key,"/play")})}()},children:[Object(G.jsx)("input",{name:"player1",value:o,onChange:function(e){return r(e.target.value)}}),Object(G.jsx)("button",{type:"submit",children:"Lets Play"})]})]})};var Ze=function(){var e=r.a.useState(o.Original),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(G.jsx)(m.Provider,{value:{theme:n,setTheme:i},children:Object(G.jsx)(g.a,{children:Object(G.jsxs)(d.c,{children:[Object(G.jsx)(d.a,{path:"/game/:id/play",children:Object(G.jsx)(Fe,{})}),Object(G.jsx)(d.a,{path:"/game/:id",children:Object(G.jsx)(U,{})}),Object(G.jsx)(d.a,{path:"/",children:Object(G.jsx)(Qe,{})})]})})})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),i(e),r(e),c(e)}))};a.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(Ze,{})}),document.getElementById("root")),Ve()}},[[56,1,2]]]);
//# sourceMappingURL=main.80b272fb.chunk.js.map